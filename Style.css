/* ===== Modern App UI (Light/Dark, motion-aware, skeletons, a11y, utilities) ===== */
:root {
  /* Dark theme (default) */
  --bg: #0b1220;
  --surface: #0f1830;
  --card: #121a2f;
  --text: #e8eef4;
  --muted: #9aa6b2;
  --primary: #38c3e3;
  --primary-600: #2aa7c5;
  --success: #7da02c;
  --danger: #ff6b6b;
  --warning: #ffb020;
  --border: #1e2a3f;
  --ring: #2b3e5c;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --shadow-2: 0 20px 40px rgba(0,0,0,.35);
}

/* Light theme variables */
.theme-light {
  --bg: #f7f9fc;
  --surface: #ffffff;
  --card: #ffffff;
  --text: #0e1626;
  --muted: #5b6470;
  --primary: #0ea5e9;
  --primary-600: #0284c7;
  --success: #3f9f2c;
  --danger: #e11d48;
  --warning: #d97706;
  --border: #e6eaf1;
  --ring: #bcd7ee;
  --shadow: 0 10px 30px rgba(0,0,0,.08);
  --shadow-2: 0 20px 40px rgba(0,0,0,.10);
}

* { box-sizing: border-box; }
html { font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
body { margin: 0; background: radial-gradient(1200px 600px at 80% -10%, #15213b 0%, var(--bg) 70%); color: var(--text);
  min-height: 100vh; display: flex; flex-direction: column; }
.theme-light body { background: var(--bg); }

/* Layout */
.container { width: min(1200px, 92%); margin-inline: auto; }
.py-6 { padding-block: 3rem; } .mt-6 { margin-top: 3rem; } .mt-4 { margin-top: 1.5rem; } .mt-3 { margin-top: 1rem; }
.grid { display: grid; } .cols-2 { grid-template-columns: repeat(2, 1fr); } .cols-3 { grid-template-columns: repeat(3, 1fr); } .gap-3 { gap: 1rem; }
.flex { display: flex; } .items-center { align-items: center; } .justify-between { justify-content: space-between; } .gap-2 { gap: .5rem; } .gap-3 { gap: 1rem; }

/* Header / Navbar */
.site-header { border-bottom: 1px solid var(--border); background: rgba(10, 18, 32, .6); backdrop-filter: blur(6px); position: sticky; top: 0; z-index: 10; transition: box-shadow .2s ease; }
.theme-light .site-header { background: rgba(255,255,255, .7); }
.site-header.is-elevated { box-shadow: var(--shadow); }
.navbar { display: flex; align-items: center; justify-content: space-between; padding: .8rem 0; }
.brand { font-weight: 800; color: var(--text); text-decoration: none; letter-spacing: .5px; }
.nav { display: flex; gap: .6rem; list-style: none; margin: 0; padding: 0; }
.nav a { color: var(--text); text-decoration: none; padding: .5rem .9rem; border-radius: .75rem; transition: .2s; }
.nav a:hover { background: color-mix(in oklab, var(--surface), #000 10%); }

/* Highlight active link */
.nav a.active { background: color-mix(in oklab, var(--surface), #000 15%); outline: 1px solid var(--ring); }
.nav a.active {
  font-weight: bold;
  color: #38c3e3; /* Highlight color */
}

/* Buttons */
.button { background: var(--primary); color: #06101a; border: none; border-radius: .9rem; padding: .6rem 1rem; cursor: pointer; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; gap: .5rem; box-shadow: var(--shadow); font-weight: 700; transition: transform .06s ease, background-color .15s ease; }
.button:hover { background: var(--primary-600); }
.button:active { transform: translateY(1px); }
.button.ghost { background: transparent; color: var(--text); outline: 1px solid var(--ring); box-shadow: none; }
.button.link { background: transparent; color: var(--primary); box-shadow: none; padding: 0; }
.button.sm { padding: .35rem .7rem; border-radius: .6rem; font-weight: 600; }
.button.lg { padding: .8rem 1.2rem; }
.button.icon { width: 2.25rem; height: 2.25rem; padding: 0; border-radius: .7rem; display: inline-grid; place-items: center; }
.button.danger { background: var(--danger); color: white; }

/* Inputs */
input, select, textarea {
  width: 100%; 
  background: var(--surface); 
  color: var(--text); 
  border: 1px solid var(--border); 
  border-radius: .8rem; 
  padding: .7rem .9rem; 
  margin: 0.5rem 0; 
  outline: none; 
  transition: border-color .15s ease, box-shadow .15s ease; 
}

/* Focus styles for input, select, textarea */
input:focus, select:focus, textarea:focus { 
  border-color: var(--primary); 
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 25%, transparent);
}

/* Ensuring consistency across all input types */
.switcher label { 
  display: inline-block; 
  margin: 0.5rem 0; 
  padding: 0.3rem 0.6rem; 
  background: var(--surface); 
  border-radius: .8rem; 
  border: 1px solid var(--border); 
  color: var(--text); 
  cursor: pointer; 
  font-size: 1rem; 
}
.switcher input { 
  margin-right: 10px; 
}

.small { font-size: .92rem; }
.error { color: var(--danger); min-height: 1.2em; }
.badge { display: inline-flex; align-items: center; gap: .35rem; padding: .25rem .55rem; border-radius: 999px; background: color-mix(in oklab, var(--primary) 15%, transparent); color: var(--text); border: 1px solid var(--ring); font-weight: 600; }

/* Cards */
.card { background: linear-gradient(180deg, color-mix(in oklab, #fff 2%, var(--card)), color-mix(in oklab, #000 2%, var(--card))); border: 1px solid var(--border); border-radius: 1.1rem; padding: 1.2rem; box-shadow: var(--shadow); }
.card-header { display: flex; align-items: center; justify-content: space-between; gap: 1rem; border-bottom: 1px dashed var(--border); padding-bottom: .8rem; margin-bottom: 1rem; }
.card-header .actions { display: flex; gap: .5rem; flex-wrap: wrap; }
.section-title { margin: 0 0 .7rem; font-size: clamp(1.2rem, .9rem + 1vw, 1.6rem); }

/* Table */
.table-wrapper { overflow: auto; border-radius: .9rem; border: 1px solid var(--border); }
.table { width: 100%; border-collapse: separate; border-spacing: 0; background: var(--surface); }
.table thead th { position: sticky; top: 0; background: color-mix(in oklab, var(--surface), #000 6%); z-index: 1; }
.table th, .table td { border-bottom: 1px solid var(--border); padding: .85rem .75rem; text-align: start; }
.table tr:hover td { background: color-mix(in oklab, var(--surface), #000 4%); }
.table .action { text-align: center; }

/* Details panel */
.app-details { display: none; background: color-mix(in oklab, var(--surface), #000 8%); border: 1px solid var(--border); border-radius: .9rem; margin-top: .6rem; padding: 1rem; box-shadow: var(--shadow-2); }
.app-details .media { display: flex; gap: 1rem; flex-wrap: wrap; align-items: center; }
.app-details img { width: 80px; height: 80px; object-fit: cover; border-radius: .6rem; border: 1px solid var(--border); }
.audio, .video { width: 300px; max-width: 100%; border-radius: .6rem; border: 1px solid var(--border); }

/* Footer */
.site-footer { margin-top: auto; border-top: 1px solid var(--border); background: rgba(10, 18, 32, .6); }
.theme-light .site-footer { background: #ffffffc0; }
.site-footer .container { display: flex; align-items: center; justify-content: space-between; padding: .9rem 0; }
.footer-nav { display: flex; gap: .8rem; }
.footer-nav a { color: var(--muted); text-decoration: none; }
.footer-nav a:hover { color: var(--text); }
.footer-nav a.danger { color: var(--danger); }

/* Controls row */
.controls { display: grid; grid-template-columns: 1.6fr 1fr 1fr 1fr auto; gap: .6rem; }
@media (max-width: 980px) { .controls { grid-template-columns: 1fr 1fr; } }
.search-wrap { position: relative; }
.search-wrap .search-icon { position: absolute; inset-inline-start: .6rem; inset-block-start: 50%; transform: translateY(-50%); opacity: .7; }
.search-wrap .search { padding-inline-start: 2rem; }

/* Data ops */
.data-ops { display: flex; gap: .6rem; flex-wrap: wrap; }

/* Toasts */
.toast-area { position: fixed; inset-inline-end: 1rem; inset-block-start: 1rem; display: grid; gap: .5rem; z-index: 1000; }
.toast { background: var(--surface); border: 1px solid var(--ring); padding: .75rem 1rem; border-radius: .8rem; box-shadow: var(--shadow); display: flex; align-items: center; gap: .6rem; transition: opacity .2s ease, transform .2s ease; }
.toast.success { border-color: color-mix(in oklab, var(--success), #000 20%); }
.toast.error { border-color: color-mix(in oklab, var(--danger), #000 20%); }
.toast .title { font-weight: 700; }

/* Empty state */
.empty-state { text-align: center; padding: 2rem 1rem; border: 1px dashed var(--ring); border-radius: 1rem; background: color-mix(in oklab, var(--surface), #000 5%); }
.empty-state img { width: 64px; height: 64px; opacity: .9; }

/* Skeletons */
.skeleton-row { position: relative; height: 56px; }
.skeleton { display: inline-block; height: 12px; width: 40%; border-radius: 6px; background: linear-gradient(90deg, color-mix(in oklab, var(--surface), #000 10%), color-mix(in oklab, var(--surface), #000 6%), color-mix(in oklab, var(--surface), #000 10%)); background-size: 200% 100%; animation: shimmer 1.1s infinite linear; }
@keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

/* Lists etc. */
.bullets { margin: .4rem 0 0; padding-inline-start: 1.2rem; }
.bullets li { margin: .3rem 0; }
.note { color: var(--muted); font-size: .95rem; }
.link { color: var(--primary); }

/* A11y helpers */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }

/* Motion reduction */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; scroll-behavior: auto !important; }
}

/* Responsive tweaks */
@media (max-width: 840px) {
  .cols-2, .cols-3 { grid-template-columns: 1fr; }
  .navbar { flex-wrap: wrap; gap: .6rem; }
}
